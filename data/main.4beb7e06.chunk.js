(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n(36)},29:function(e,t,n){},33:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(12),c=n.n(o),i=(n(29),n(30),n(9)),l=n(8),s=n(13),u=n(14),d=n(15),m=n(21),h=n(16),f=n(22),p=n(19),k=n(42),g=n(43),v=n(44),b=n(41),E=n(45),y=n(46),w=n(47),O=n(48),S=n(49),j=n(17),C=(n(33),n(37)),I=n(38),N=n(39),x=n(40),A=function(e){return r.a.createElement("header",null,r.a.createElement(C.a,{color:"light",light:!0,expand:"md"},r.a.createElement(I.a,{href:"/"},"LEDanager"),r.a.createElement(N.a,{className:"ml-auto",navbar:!0},r.a.createElement(x.a,null,r.a.createElement(b.a,{color:"success",onClick:function(){return e.sendUpdatedState()}},"Save")))))},U=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},L=Object(j.w3cwebsocket)("ws://"+window.location.hostname+":5900/"),W={effects:{name:"New effect",speed:0,scale:0,brightness:0},alarms:{time:"07:00",color:"red",enabled:!1}},B=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={effects:[],alarms:[],working:null},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"initWebSocket",value:function(){var e=this;L.onopen=function(){console.log("WebSocket connection opened")},L.onmessage=function(t){console.log(t);var n=JSON.parse(t.data);e.setState(Object(s.a)({},n))}}},{key:"sendUpdatedState",value:function(){L.send(JSON.stringify(this.state))}},{key:"onAddItem",value:function(e){this.setState(function(t){var n=t[e].concat(W[e]);return Object(l.a)({},e,n)})}},{key:"onUpdateItem",value:function(e,t,n,a){this.setState(function(r){var o=r[e].map(function(e,r){return r===t&&(e[n]=a),e});return Object(l.a)({},e,o)})}},{key:"onRemoveItem",value:function(e,t){this.setState(function(n){var a=n[e].filter(function(e,n){return t!==n});return Object(l.a)({},e,a)})}},{key:"handleListChange",value:function(e){var t=e.target.name.split("."),n=Object(i.a)(t,2),a=n[0],r=n[1],o=e.target.value,c=parseInt(e.target.getAttribute("data-index"));this.onUpdateItem(a,c,r,o)}},{key:"handleListCheckBox",value:function(e){var t=e.target.name.split("."),n=Object(i.a)(t,2),a=n[0],r=n[1],o=e.target.checked,c=parseInt(e.target.getAttribute("data-index"));this.onUpdateItem(a,c,r,o)}},{key:"componentWillMount",value:function(){this.initWebSocket()}},{key:"renderInput",value:function(e,t,n,a){var o,c="number"===typeof(o=W[a][t])?"number":"string"===typeof o?"text":"boolean"===typeof o?"checkbox":void 0;return"checkbox"===c?r.a.createElement(p.a,{key:t},r.a.createElement(k.a,{type:c,placeholder:U(t),name:a+"."+t,checked:e[t],"data-index":n,onChange:this.handleListCheckBox.bind(this),addon:!0})):r.a.createElement(k.a,{type:c,key:t,placeholder:U(t),name:a+"."+t,value:e[t],"data-index":n,onChange:this.handleListChange.bind(this)})}},{key:"renderGroup",value:function(e){var t=this;return r.a.createElement(g.a,null,r.a.createElement(v.a,null,r.a.createElement("h2",{className:"mt-2"},U(e),r.a.createElement(b.a,{color:"success",outline:!0,className:"ml-2 float-right",onClick:this.onAddItem.bind(this,e)},"Add")),this.state[e].map(function(n,a){return r.a.createElement(E.a,{key:a,className:"mt-1"},Object.keys(W[e]).map(function(r,o){return t.renderInput(n,r,a,e)}),r.a.createElement(y.a,{addonType:"append"},r.a.createElement(b.a,{color:"danger",outline:!0,onClick:t.onRemoveItem.bind(t,e,a)},"Delete")))})))}},{key:"renderEffects",value:function(){return this.renderGroup("effects")}},{key:"renderAlarms",value:function(){return this.renderGroup("alarms")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"wrapper"},r.a.createElement(w.a,null,r.a.createElement(A,{sendUpdatedState:function(){return e.sendUpdatedState()}}),r.a.createElement("h1",{className:"mt-2"},"LED ",this.state.working?"working":"not working",r.a.createElement(b.a,{color:"primary",className:"float-right",onClick:function(){return e.setState({working:!e.state.working})},active:this.state.working,size:"lg"},this.state.working?"Turn Off":"Turn On")),r.a.createElement(O.a,null,r.a.createElement(S.a,null,0!==this.state.effects.length?this.renderEffects():r.a.createElement("p",null,"No data to display"),0!==this.state.alarms.length?this.renderAlarms():r.a.createElement("p",null,"No data to display")))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.4beb7e06.chunk.js.map